<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document Upload - VisaD</title>
    <link rel="icon" type="image/png" href="https://www.visad.co.uk/wp-content/uploads/2025/08/visad-png.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="stylesheet" href="document_upload.css">
</head>

<body>
    <div class="container">
        <!-- Sticky Client Info Header -->
        <div class="client-info-header">
            <div class="client-info-main">
                <img src="https://www.visad.co.uk/wp-content/uploads/2025/08/visad-png.png" alt="VisaD Logo"
                    class="client-header-logo">
                <div class="client-info-text">
                    <h2 id="client-name">Loading...</h2>
                    <p id="client-details">
                        Applied for a <strong id="visa-country">-</strong> <strong id="visa-type">-</strong> visa in
                        <strong id="application-city">-</strong> with our <strong id="package-type">-</strong> package
                    </p>
                </div>
            </div>
            <div class="action-buttons">
                <button class="action-btn" data-action="locker-data"><i class="fas fa-database"></i> Locker
                    Data</button>
                <button class="action-btn" data-action="insurance"><i class="fas fa-shield-alt"></i> Insurance</button>
                <button class="action-btn" data-action="flight"><i class="fas fa-plane"></i> Flight</button>
                <button class="action-btn" data-action="covering-letter"><i class="fas fa-file-alt"></i> Covering
                    Letter</button>
                <button class="action-btn" data-action="application-form"><i class="fas fa-clipboard-list"></i>
                    Application Form</button>
                <button class="action-btn" data-action="appointment"><i class="fas fa-calendar-check"></i> Appointment
                    Confirmation</button>
                <button class="action-btn" data-action="hotel"><i class="fas fa-hotel"></i> Hotel Booking</button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Loading State -->
            <div id="loading-state" class="loading-state">
                <div class="spinner"></div>
                <p>Loading documents...</p>
            </div>

            <!-- Error State -->
            <div id="error-state" class="error-state" style="display: none;">
                <i class="fas fa-exclamation-triangle"></i>
                <h3>Error Loading Data</h3>
                <p id="error-message">Could not load client information.</p>
                <button onclick="window.location.reload()" class="btn-secondary">Retry</button>
            </div>

            <!-- Documents Section -->
            <div id="documents-section" class="documents-section" style="display: none;">
                <div class="page-header">
                    <div>
                        <h1><i class="fas fa-folder-open"></i> Document Management</h1>
                        <p>Upload and manage all required documents for the visa application</p>
                    </div>
                </div>

                <!-- Insurance Documents -->
                <div class="document-category">
                    <div class="category-header">
                        <div class="category-title">
                            <i class="fas fa-shield-alt"></i>
                            <h2>Insurance</h2>
                            <span class="file-count" id="count-insurance">0 files</span>
                        </div>
                        <button class="btn-upload" onclick="triggerUpload('insurance')">
                            <i class="fas fa-upload"></i> Upload Insurance
                        </button>
                    </div>
                    <div class="upload-area" id="upload-insurance">
                        <input type="file" id="file-insurance" class="file-input" accept=".pdf,.jpg,.jpeg,.png" multiple
                            onchange="handleFileSelect(event, 'insurance')">
                        <label for="file-insurance" class="upload-label">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>Drop files here or click to browse</span>
                            <small>PDF, JPG, PNG (Max 2MB per file)</small>
                        </label>
                    </div>
                    <div class="files-list" id="files-insurance"></div>
                </div>

                <!-- Flight/Travel Ticket Documents -->
                <div class="document-category">
                    <div class="category-header">
                        <div class="category-title">
                            <i class="fas fa-plane"></i>
                            <h2>Flight/Travel Ticket</h2>
                            <span class="file-count" id="count-flight">0 files</span>
                        </div>
                        <button class="btn-upload" onclick="triggerUpload('flight')">
                            <i class="fas fa-upload"></i> Upload Flight Ticket
                        </button>
                    </div>
                    <div class="upload-area" id="upload-flight">
                        <input type="file" id="file-flight" class="file-input" accept=".pdf,.jpg,.jpeg,.png" multiple
                            onchange="handleFileSelect(event, 'flight')">
                        <label for="file-flight" class="upload-label">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>Drop files here or click to browse</span>
                            <small>PDF, JPG, PNG (Max 2MB per file)</small>
                        </label>
                    </div>
                    <div class="files-list" id="files-flight"></div>
                </div>

                <!-- Application Form Documents -->
                <div class="document-category">
                    <div class="category-header">
                        <div class="category-title">
                            <i class="fas fa-clipboard-list"></i>
                            <h2>Application Form</h2>
                            <span class="file-count" id="count-application">0 files</span>
                        </div>
                        <button class="btn-upload" onclick="triggerUpload('application')">
                            <i class="fas fa-upload"></i> Upload Application Form
                        </button>
                    </div>
                    <div class="upload-area" id="upload-application">
                        <input type="file" id="file-application" class="file-input" accept=".pdf,.jpg,.jpeg,.png"
                            multiple onchange="handleFileSelect(event, 'application')">
                        <label for="file-application" class="upload-label">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>Drop files here or click to browse</span>
                            <small>PDF, JPG, PNG (Max 2MB per file)</small>
                        </label>
                    </div>
                    <div class="files-list" id="files-application"></div>
                </div>

                <!-- Appointment Confirmation Documents -->
                <div class="document-category">
                    <div class="category-header">
                        <div class="category-title">
                            <i class="fas fa-calendar-check"></i>
                            <h2>Appointment Confirmation</h2>
                            <span class="file-count" id="count-appointment">0 files</span>
                        </div>
                        <button class="btn-upload" onclick="triggerUpload('appointment')">
                            <i class="fas fa-upload"></i> Upload Appointment
                        </button>
                    </div>
                    <div class="upload-area" id="upload-appointment">
                        <input type="file" id="file-appointment" class="file-input" accept=".pdf,.jpg,.jpeg,.png"
                            multiple onchange="handleFileSelect(event, 'appointment')">
                        <label for="file-appointment" class="upload-label">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>Drop files here or click to browse</span>
                            <small>PDF, JPG, PNG (Max 2MB per file)</small>
                        </label>
                    </div>
                    <div class="files-list" id="files-appointment"></div>
                </div>

                <!-- Hotel Booking Documents -->
                <div class="document-category">
                    <div class="category-header">
                        <div class="category-title">
                            <i class="fas fa-hotel"></i>
                            <h2>Hotel Booking</h2>
                            <span class="file-count" id="count-hotel">0 files</span>
                        </div>
                        <button class="btn-upload" onclick="triggerUpload('hotel')">
                            <i class="fas fa-upload"></i> Upload Hotel Booking
                        </button>
                    </div>
                    <div class="upload-area" id="upload-hotel">
                        <input type="file" id="file-hotel" class="file-input" accept=".pdf,.jpg,.jpeg,.png" multiple
                            onchange="handleFileSelect(event, 'hotel')">
                        <label for="file-hotel" class="upload-label">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>Drop files here or click to browse</span>
                            <small>PDF, JPG, PNG (Max 2MB per file)</small>
                        </label>
                    </div>
                    <div class="files-list" id="files-hotel"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3><i class="fas fa-exclamation-triangle"></i> Confirm Deletion</h3>
            <p>Are you sure you want to delete this file?</p>
            <p id="delete-filename" class="delete-filename"></p>
            <div class="modal-buttons">
                <button id="delete-cancel" class="btn-secondary">Cancel</button>
                <button id="delete-confirm" class="btn-danger">Delete</button>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="auth.js"></script>
    <script src="document_upload.js"></script>
</body>

</html>